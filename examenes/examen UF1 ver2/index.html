<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen UF1</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</head>

<body>
    <style>
        body {
            background-color: azure;
        }

        header h1 {
            color: blueviolet;
            padding: 30px 0px;
        }

        .encabezado {
            border-radius: 5px;
            margin: 10px;
            padding: 5px;
        }

        .card-img-top {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .w-35 {
            width: 100%;
        }

        .w-10 {
            width: 10%;
        }

        .m0 {
            margin: 0px;
        }

        #comparar {
            margin-top: 33px;
            height: 38px;
        }

        table {
            margin-top: 30px;
        }

        .container {
            margin-bottom: 30px;
        }

        #buscar {
            margin-top: 10px;
        }
    </style>
    <header class="container">
        <div>
            <h1 class="text-center">Coches mas potentes de 2022</h1>
        </div>
    </header>

    <main>
        <div class="container card">
            <div class="text-center bg-primary encabezado text-white">
                <h2>Tarjetas de coches</h2>
            </div>

            <div class="row container" id="tarjetas">
                <!--Tarjetas que se insertan-->
            </div>
        </div>
        


        <div class="container card">
            <div class="text-center bg-primary encabezado text-white">
                <h2>Comparación de coches</h2>
            </div>
            <div class="container">
                <div class="row justify-content-between m0">
                    <div class="col-md-5" >
                        <label for="selectIzq" class="form-label">Selecciona primer coche</label>
                        <select id="selectIzq" class="form-select w-35" aria-label="Default select example">
                            <option selected>Seleccionar</option>
                            <!--Opciones insertadas-->
                        </select>
                    </div>

                    <div class="col-md-5" >
                        <label for="selectDer" class="form-label">Selecciona segundo coche </label>
                        <select id="selectDer" class="form-select w-35" aria-label="Default select example">
                            <option selected>Seleccionar</option>
                            <!--Opciones insertadas-->
                        </select>
                    </div>

                    <button type="submit" class="btn btn-primary w-10 bg-primary col-md-2"
                        id="comparar">Comparar</button>
                </div>

                <table class="container table table-bordered ">
                    <tr>
                        <td class="col-md-3">Caracteristica</td>
                        <td class="col-md-3" id="compararNombreCoche1"></td>
                        <td class="col-md-3" id="compararNombreCoche2"></td>
                    </tr>

                    <tr>
                        <td class="col-md-3">Potencia</td>
                        <td class="col-md-3" id="compararPotenciaCoche1"> </td>
                        <td class="col-md-3" id="compararPotenciaCoche2"> </td>
                    </tr>

                    <tr>
                        <td class="col-md-3">Motor</td>
                        <td class="col-md-3" id="compararMotorCoche1"> </td>
                        <td class="col-md-3" id="compararMotorCoche2"> </td>
                    </tr>

                </table>
            </div>
        </div>

        <div class="container card">
            <div class="text-center bg-primary encabezado text-white">
                <h2>Acerca de potencia</h2>
            </div>

            <div class="container mb-3">
                <label for="formGroupExampleInput" class="form-label">Buscar coches con mas de:</label>
                <input type="text" class="form-control" id="buscarInput">
                <button class="btn btn-primary bg-success border-0" id="buscar">Buscar</button>
            </div>

            <div class="container">
                <h5 id="busquedaFecha"></h5>
                <ul id="busquedaUl">
                </ul>
            </div>
        </div>
    </main>

    <script>
        arrayCoches = [
            {
                nombre: "Bugatti Chiron Super Sport 300+",
                potencia: "1.500+ caballos de fuerza",
                motor: "8.0 litros W16",
                imagen: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQVWjcb5SZMd2ioaBWWseWdXHUgzoIyBU6sTA&s",
                comparacionPotencia: 1500
            },
            {
                nombre: "Koenigsegg Jesko",
                potencia: "1.600+ caballos de fuerza",
                motor: "V8 de 5.0 litros",
                imagen: "https://img.remediosdigitales.com/89b3aa/koenigsegg-jesko/1366_521.jpg",
                comparacionPotencia: 1600
            },
            {
                nombre: "Hennessey Venom F5",
                potencia: "1.800+ caballos de fuerza",
                motor: "V8 de 6.6 litros",
                imagen: "https://cdn.motor1.com/images/mgl/AkKbbP/s1/hennessey-venom-f5-revolution.jpg",
                comparacionPotencia: 1800
            },
            {
                nombre: "Rimac C_Two",
                potencia: "1.900+ caballos de fuerza",
                motor: "Eléctrico",
                imagen: "https://chanoine.fr/wp-content/uploads/2024/05/rimac-1.png",
                comparacionPotencia: 1900
            },
            {
                nombre: "Lamborghini Sian",
                potencia: "800+ caballos de fuerza",
                motor: "V12 híbrido",
                imagen: "https://www.lamborghini.com/sites/it-en/files/DAM/lamborghini/facelift_2019/model_detail/few_off/sian-fkp-37/2022/06_20/over/sian_body_01_m.jpg",
                comparacionPotencia: 800
            }
        ]



        for (i = 0; i < arrayCoches.length; i++) {
            //meter las tarjetas
            document.getElementById('tarjetas').innerHTML += `
                <div class="col-md-4 mb-4">
                    <div class="card" style="width: 100%;">
                        <img src="${arrayCoches[i].imagen}" class="card-img-top">
                        <div class="card-body">
                            <h5 class="card-title text-primary">${arrayCoches[i].nombre}</h5>
                            <p class="card-text">${arrayCoches[i].potencia}</p>
                            <p class="card-text">${arrayCoches[i].motor}</p>
                        </div>
                    </div>
                </div>
            `

            //meter las opciones
            document.getElementById('selectIzq').innerHTML += `
                <option value="${i}">${arrayCoches[i].nombre}</option>
            `

            document.getElementById('selectDer').innerHTML += `
                <option value="${i}">${arrayCoches[i].nombre}</option>
            `
        }



        //comparar
        document.querySelector('#comparar').addEventListener('click', function () {
            //para recoger el valor desde select
            selectIzq = document.getElementById('selectIzq').value
            selectDer = document.getElementById('selectDer').value

            //control de errores
            if (selectIzq == selectDer) {
                alert("Error")
            } else if (selectIzq == 'Seleccionar' || selectDer == 'Seleccionar') {
                alert("Error")
            } else {
                //insertar los nombres de los coches seleccionados
                document.getElementById('compararNombreCoche1').innerHTML = arrayCoches[selectIzq].nombre
                document.getElementById('compararNombreCoche2').innerHTML = arrayCoches[selectDer].nombre

                //insertar potencia de los coches seleccionados
                document.getElementById('compararPotenciaCoche1').innerHTML = arrayCoches[selectIzq].potencia
                document.getElementById('compararPotenciaCoche2').innerHTML = arrayCoches[selectDer].potencia

                //insertar los motores de los coches seleccionados
                document.getElementById('compararMotorCoche1').innerHTML = arrayCoches[selectIzq].motor
                document.getElementById('compararMotorCoche2').innerHTML = arrayCoches[selectDer].motor
                
            }
        })




        //buscar
        document.querySelector('#buscar').addEventListener('click', function () {
            //Limpiar las Li's generadas anteriormente al clicar
            document.getElementById('busquedaUl').innerHTML = ''
            //recoger el numero introducido
            inputInfo = document.getElementById('buscarInput').value


            //comprobar 1 por 1 las potencias y sacar las que superan el numero introducido
            for (i = 0; i < arrayCoches.length; i++) {

                //control de errores
                if (inputInfo < 0 || inputInfo > 1899 || inputInfo == "") {
                    alert("No hay coches con esta potencia!!!")
                    i = 5 // para salir del buscle porque sino la pagina se queda bugeada en un bucle constante y no se quita alert !!!!!!!!!!
                } else if (inputInfo < arrayCoches[i].comparacionPotencia) { //comparacion con cada coche en el array
                    document.getElementById('busquedaUl').innerHTML += `<li>${arrayCoches[i].nombre} - ${arrayCoches[i].potencia}</li>`
                }
            }

            //para sacar la hora de la busqueda
            ahora = new Date()
            opciones = { hour: '2-digit', minute: '2-digit', second: '2-digit' }
            horaActual = ahora.toLocaleTimeString([], opciones)

            document.getElementById('busquedaFecha').innerHTML = `La busqueda fue realizada a las: ${horaActual}`
        })
    </script>
</body>

</html>